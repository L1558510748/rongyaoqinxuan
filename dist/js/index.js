"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Index=function(){function e(){_classCallCheck(this,e),this.box=$(".box"),this.top=$("#fixed_top"),this.quit=document.getElementById("quit"),this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){$(".row1 figure").click(function(){console.log($(this)),alert(1)});var e=this;this.check(),this.quit.onclick=function(){e.exit()},onscroll=this.pagescroll,$(this.top).click(this.scrolltop),this.boxscroll(),this.list(),this.init()}},{key:"exit",value:function(){sessionStorage.removeItem("user"),location.reload()}},{key:"check",value:function(){var e=sessionStorage.getItem("user");e&&(console.log(JSON.parse(e).sucMsg),$(".user_info").css("display","none"),$(".logined").css("display","block"),$("#username").html(JSON.parse(e).sucMsg))}},{key:"scrolltop",value:function(){$("html,body").animate({scrollTop:"0"},500)}},{key:"pagescroll",value:function(){200<$(document).scrollTop()?($(".floor_list").css("right","0px"),$("#fixed_top").css("visibility","visible"),$("#fixed_top").fadeIn(500)):($(".floor_list").css("right","-86px"),$("#fixed_top").fadeOut(500))}},{key:"boxscroll",value:function(){var e=0;setInterval(function(){e==$(".box>ul>li").length?(e=0,$(".box>ul").css("top",0)):($(".box>ul").animate({top:-36*e+"px"},500),e++)},3e3)}},{key:"list",value:function(){$(".list").children("li").click(function(){$(this).addClass("active").siblings().removeClass("active"),$("html").animate({scrollTop:$(".floor").eq($(this).index()).offset().top})})}},{key:"init",value:function(){var o=this;$.getJSON("http://localhost/rongyaoqinxuan/src/static/goods.json",function(e){console.log(e);for(var t="",i=0;i<e.length;i++)t+='<figure id="'.concat(e[i].goods_id,'"><img src=').concat(e[i].img,'>\n                    <figcaption><p class="yc">').concat(e[i].name,'</p>\n                    <p><span id="nowprice">￥').concat(e[i].nowprice,'</span ><span id="beforeprice"><s>￥').concat(e[i].beforeprice,"</s></span></p></figcaption>\n                    </figure>");$(".row1").html(t),o.figclick()})}},{key:"figclick",value:function(){$("figure").click(function(){var e=$(this).attr("id");console.log(e),$(window).attr("location","./html/productdetail.html?id="+e)})}}]),e}();new Index;