"use strict";function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,o,t){return o&&_defineProperties(i.prototype,o),t&&_defineProperties(i,t),i}var Index=function(){function i(){_classCallCheck(this,i),this.box=$(".box"),this.top=$("#fixed_top"),this.quit=document.getElementById("quit"),this.addEvent()}return _createClass(i,[{key:"addEvent",value:function(){$(".row1 figure").click(function(){console.log($(this))});var i=this;this.check(),this.quit.onclick=function(){i.exit()},onscroll=this.pagescroll,$(this.top).click(this.scrolltop),this.boxscroll(),this.list(),this.init()}},{key:"exit",value:function(){sessionStorage.removeItem("user"),location.reload()}},{key:"check",value:function(){var i=sessionStorage.getItem("user");i&&(console.log(JSON.parse(i).sucMsg),$(".user_info").css("display","none"),$(".logined").css("display","block"),$("#username").html(JSON.parse(i).sucMsg))}},{key:"scrolltop",value:function(){$("html,body").animate({scrollTop:"0"},500)}},{key:"pagescroll",value:function(){200<$(document).scrollTop()?($(".floor_list").css("right","0px"),$("#fixed_top").css("visibility","visible"),$("#fixed_top").fadeIn(500)):($(".floor_list").css("right","-86px"),$("#fixed_top").fadeOut(500))}},{key:"boxscroll",value:function(){var i=0;setInterval(function(){i==$(".box>ul>li").length?(i=0,$(".box>ul").css("top",0)):($(".box>ul").animate({top:-36*i+"px"},500),i++)},3e3)}},{key:"list",value:function(){$(".list").children("li").click(function(){$(this).addClass("active").siblings().removeClass("active"),$("html").animate({scrollTop:$(".floor").eq($(this).index()).offset().top})})}},{key:"init",value:function(){var n=this;$.getJSON("http://localhost/rongyaoqinxuan/src/static/goods.json",function(i){for(var o="",t=0;t<8;t++)o+='<figure id="'.concat(i[t].goods_id,'"><img src=').concat(i[t].img,'>\n                    <figcaption><p class="yc">').concat(i[t].name,'</p>\n                    <p><span id="nowprice">￥').concat(i[t].nowprice,'</span ><span id="beforeprice"><s>￥').concat(i[t].beforeprice,"</s></span></p></figcaption>\n                    </figure>");$(".row1").eq(0).html(o),$(".row1").eq(2).html(o),n.figclick()}),$.getJSON("http://localhost/rongyaoqinxuan/src/static/zhihui.json",function(i){for(var o="",t=0;t<8;t++)o+='<figure id="'.concat(i[t].goods_id,'"><img src=').concat(i[t].img,'>\n                <figcaption><p class="yc">').concat(i[t].name,'</p>\n                <p><span id="nowprice">￥').concat(i[t].nowprice,'</span ><span id="beforeprice"><s>￥').concat(i[t].beforeprice,"</s></span></p></figcaption>\n                </figure>");$(".row2").html(o),n.figclick()}),$.getJSON("http://localhost/rongyaoqinxuan/src/static/jingpin.json",function(i){for(var o="",t=0;t<8;t++)o+='<figure id="'.concat(i[t].goods_id,'"><img src=').concat(i[t].img,'>\n                <figcaption><p class="yc">').concat(i[t].name,'</p>\n                <p><span id="nowprice">￥').concat(i[t].nowprice,'</span ><span id="beforeprice"><s>￥').concat(i[t].beforeprice,"</s></span></p></figcaption>\n                </figure>");$(".row3").html(o),n.figclick()})}},{key:"figclick",value:function(){$(".row1").children("figure").click(function(){var i=$(this).attr("id");console.log(i),$(window).attr("location","./html/productdetail.html?id="+i)}),$(".row2").children("figure").click(function(){var i=$(this).attr("id");console.log(i),$(window).attr("location","./html/productdetail.html?id="+i)}),$(".row3").children("figure").click(function(){var i=$(this).attr("id");console.log(i),$(window).attr("location","./html/productdetail.html?id="+i)})}}]),i}();new Index;